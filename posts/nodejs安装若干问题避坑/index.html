<!doctype html><html lang=zh><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Nodejs安装若干问题避坑 | 惒泊の部落格</title><link rel=stylesheet href=/css/eureka.min.css><script defer src=/js/eureka.min.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css media=print onload="this.media='all',this.onload=null" crossorigin><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/dart.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/javascript.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/typescript.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/matlab.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/go.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/verilog.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/shell.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/bash.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/latex.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/markdown.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X media=print onload="this.media='all',this.onload=null" crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><link rel=icon type=image/png sizes=32x32 href=/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_2.png><link rel=apple-touch-icon sizes=180x180 href=/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_2.png><meta name=description content="nodejs的windows下传统安装 nodejs官网下载：LTS为长期支持版，Current是最新"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"/posts/"},{"@type":"ListItem","position":2,"name":"Nodejs安装若干问题避坑","item":"/posts/nodejs%E5%AE%89%E8%A3%85%E8%8B%A5%E5%B9%B2%E9%97%AE%E9%A2%98%E9%81%BF%E5%9D%91/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/nodejs%E5%AE%89%E8%A3%85%E8%8B%A5%E5%B9%B2%E9%97%AE%E9%A2%98%E9%81%BF%E5%9D%91/"},"headline":"Nodejs安装若干问题避坑 | 惒泊の部落格","datePublished":"2020-01-26T21:43:54+00:00","dateModified":"2020-01-26T21:43:54+00:00","wordCount":1771,"publisher":{"@type":"Person","name":"HerbertHe","logo":{"@type":"ImageObject","url":"/images/icon.png"}},"description":"nodejs的windows下传统安装 nodejs官网下载：LTS为长期支持版，Current是最新"}</script><meta property="og:title" content="Nodejs安装若干问题避坑 | 惒泊の部落格"><meta property="og:type" content="article"><meta property="og:image" content="/images/icon.png"><meta property="og:url" content="/posts/nodejs%E5%AE%89%E8%A3%85%E8%8B%A5%E5%B9%B2%E9%97%AE%E9%A2%98%E9%81%BF%E5%9D%91/"><meta property="og:description" content="nodejs的windows下传统安装 nodejs官网下载：LTS为长期支持版，Current是最新"><meta property="og:locale" content="zh"><meta property="og:site_name" content="惒泊の部落格"><meta property="article:published_time" content="2020-01-26T21:43:54+00:00"><meta property="article:modified_time" content="2020-01-26T21:43:54+00:00"><meta property="article:section" content="posts"><meta property="article:tag" content="Nodejs"><meta property="article:tag" content="Frontend"><meta property="article:tag" content="前端开发"><meta property="article:tag" content="环境搭建"><meta property="article:tag" content="nvm"><body class="flex flex-col min-h-screen"><header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm"><div class="w-full max-w-screen-xl mx-auto"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName('html')[0].classList.add('dark')</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/ class="mr-6 text-primary-text text-xl font-bold">惒泊の部落格</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item mr-4">文章</a>
<a href=/categories/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">集合</a>
<a href=/tags/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">标签</a>
<a href=https://server.jieec.cn class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">Jieec Server</a>
<a href=https://download.jieec.cn class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">Jieec Server Download</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>浅色</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>深色</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>自动</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById('lightDarkMode');storageColorScheme==null||storageColorScheme=='Auto'?document.addEventListener('DOMContentLoaded',()=>{switchMode('Auto')}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'sun'),element.firstElementChild.classList.add('fa-sun')):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'moon'),element.firstElementChild.classList.add('fa-moon')),document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="flex-grow pt-16"><div class=pl-scrollbar><div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto"><div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12"><div class="col-span-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8"><h1 class="font-bold text-3xl text-primary-text">Nodejs安装若干问题避坑</h1><div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i>
<span>2020-01-26</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i>
<span>4分钟阅读时长</span></div></div><div class=content><h2 id=nodejs的windows下传统安装>nodejs的windows下传统安装</h2><p><a href=https://nodejs.org/en/>nodejs官网</a>下载：LTS为长期支持版，Current是最新版</p><blockquote><p>根据官网给的安装包一步步来即可安装</p></blockquote><h2 id=nodejs的不同版本安装思考>nodejs的不同版本安装思考</h2><p>由于平时可能涉及到的node版本不同导致所用的代码会出现各种各样的问题，node的版本管理工具切换node版本显得比较重要！在<code>Linux/Mac</code>端<code>nvm</code>很好的解决了版本管理的问题，在Windows端不可使用<code>nvm</code>进行管理！</p><p>Github项目<a href=https://github.com/coreybutler/nvm-windows>nvm-windows</a>利用go语言开发解决了Windows环境下的nodejs管理问题！</p><blockquote><p>下面对 <code>nodejs</code> 和 <code>node</code>, <code>nvm</code> 和 <code>nvm-windows</code> 不加以区分</p></blockquote><h2 id=配置安装nvm-windows>配置安装nvm-windows</h2><ol><li><p>首先建议<code>卸载</code>本地环境下的nodejs，以便更好地管理node版本</p></li><li><p><a href=https://github.com/coreybutler/nvm-windows/releases>releases</a>中下载最新的安装包</p><blockquote><p>建议使用: <code>nvm-setup.zip</code> 傻瓜式安装, <code>nvm-noinstall.zip</code> 为绿色版需要自行配置</p></blockquote></li><li><p>安装配置<code>nvm-windows</code></p><ul><li><code>nvm</code> 安装路径可以自定义</li><li>symlink为超链接的目标目录，即用<code>nvm use</code>切换node版本时，本质上是切换链接的指向！symlink配置之后安装工具会把链接的地址加入系统环境变量之中，下面将会详述<code>nvm</code>的命令和具体使用！这个目录就当成node的安装目录就好了。</li></ul></li></ol><h2 id=nvm命令详解>nvm命令详解</h2><ul><li><p><code>nvm version</code>: 查询当前的nvm版本</p></li><li><p><code>nvm</code>: 列出所有的命令</p><pre><code class=language-shell>Running version 1.1.7.

Usage:

nvm arch                     : 显示node运行在32位还是在64位系统上
nvm install &lt;version&gt; [arch] : 利用nvm下载node, 可以指定版本下载或者&quot;latest&quot;下载最新稳定版, 可选指定下载32/64位的版本, 默认与系统架构相同。
                                arch参数为&quot;all&quot;则32/64位版本都下载, 命令后面添加--insecure可以跳过SSL检查下载
nvm list [available]         : 列出所有的node下载, &quot;nvm list available&quot; 命令可以查看所有可下载的node版本, 别名ls
nvm on                       : 允许进行node版本管理
nvm off                      : 不允许进行node版本管理
nvm proxy [url]              : 为下载配置代理, url参数为空打印当前代理, 参数为&quot;none&quot;删除代理
nvm node_mirror [url]        : 设置node镜像, 默认是 https://nodejs.org/dist/ （国内可用: https://npm.taobao.org/mirrors/node/）
nvm npm_mirror [url]         : 设置npm镜像, 默认是 https://github.com/npm/cli/archive/ （国内可用淘宝镜像: https://npm.taobao.org/mirrors/npm/）
nvm uninstall &lt;version&gt;      : 卸载指定版本node
nvm use [version] [arch]     : 切换指定使用的node版本, 可选指定32或64位架构, &quot;arch&quot;参数可选
nvm root [path]              : 设置nvm管理的不同版本node的储存位置, 如果路径没有设置就打印当前nvm安装的目录（ps: 这个其实可以不用设置的）
nvm version                  : 显示当前Windows环境下nvm的版本, 别名 v
</code></pre></li></ul><h2 id=win10一般配置nvm>Win10一般配置nvm</h2><pre><code class=language-shell># 设置64位架构
nvm arch 64

# 设置node镜像
nvm node_mirror https://npm.taobao.org/mirrors/node/

# 设置npm镜像
nvm npm_mirror https://npm.taobao.org/mirrors/npm/

# 列出所有可以下载的node
nvm list available

# 以12.14.1版本为例下载node
nvm install 12.14.1

# 显示所有已下载的node
nvm list

# 切换使用12.14.1
nvm use 12.14.1
</code></pre><h2 id=需要注意的问题>需要注意的问题</h2><ol><li><p><code>nvm</code>管理node时，利用npm/yarn全局下载的包只能是下载到当前使用版本的node的node_modules\node_global\node_modules下，如果切换node版本，依赖包是要重新下载的！</p></li><li><p>由于yarn和npm全局下载的包在node_modules中的结构是不同的，yarn全局下载的包使用PowerShell跑的时候找不到命令，所以强烈建议全局下载例如Taro、Vue、React等的脚手架工具时使用npm做node的依赖包管理，而非yarn</p></li><li><p>因为yarn可以多线程下载，下载包的速度比npm要快还能多，所以建议在项目中使用yarn进行包管理</p></li><li><p>安装过程中出现的异常通常可以通过重启或者使用<code>管理员身份打开</code>解决</p></li></ol><h2 id=npmyarn包镜像源的管理>npm/yarn包镜像源的管理</h2><blockquote><p>强烈建议使用<code>yrm</code>进行镜像源管理</p></blockquote><pre><code class=language-shell># 下载yrm
npm install yrm -g

# 列出所有可以使用的镜像源
yrm ls

# 示例使用taobao镜像源
yrm use taobao
</code></pre><h2 id=yrm命令详解>yrm命令详解</h2><blockquote><p>命令行使用<code>yrm</code>即可显示所有的yrm命令</p></blockquote><pre><code class=language-shell>Usage: cli [options] [command]

Options:
  -V, --version                输出版本
  -h, --help                   输出使用信息

Commands:
  ls                           列出所有的仓库
  current                      展示当前的仓库名
  use &lt;仓库名&gt;                 使用指定的仓库
  add &lt;仓库名&gt; &lt;url&gt; [home]    添加一个自定义仓库
  del &lt;仓库名&gt;                 删除一个仓库
  home &lt;仓库名&gt; [browser]      用可选浏览器打开仓库首页
  test [仓库名]                展示指定仓库或者所有仓库的响应时间
  help                         打印帮助
</code></pre></div><div class=my-4><a href=/tags/nodejs/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#Nodejs</a>
<a href=/tags/frontend/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#Frontend</a>
<a href=/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#前端开发</a>
<a href=/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#环境搭建</a>
<a href=/tags/nvm/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#nvm</a></div><div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t"><div><span class="block font-bold">上一页</span>
<a href=/posts/ubuntu%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85docker%E8%AE%B0%E5%BD%95/ class=block>Ubuntu环境安装docker记录</a></div><div class="md:text-right mt-4 md:mt-0"><span class="block font-bold">下一页</span>
<a href=/posts/%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9Flog/ class=block>自制操作系统log</a></div></div></div><div class=col-span-2><div class="sticky top-16 z-10 hidden lg:block px-6 py-4 bg-primary-bg"><span class="text-lg font-semibold">本页内容</span></div><div class="sticky-toc hidden lg:block px-6 pb-6"><nav id=TableOfContents><ul><li><a href=#nodejs的windows下传统安装>nodejs的windows下传统安装</a></li><li><a href=#nodejs的不同版本安装思考>nodejs的不同版本安装思考</a></li><li><a href=#配置安装nvm-windows>配置安装nvm-windows</a></li><li><a href=#nvm命令详解>nvm命令详解</a></li><li><a href=#win10一般配置nvm>Win10一般配置nvm</a></li><li><a href=#需要注意的问题>需要注意的问题</a></li><li><a href=#npmyarn包镜像源的管理>npm/yarn包镜像源的管理</a></li><li><a href=#yrm命令详解>yrm命令详解</a></li></ul></nav></div><script>window.addEventListener('DOMContentLoaded',()=>{enableStickyToc()})</script></div></div><script>document.addEventListener('DOMContentLoaded',()=>{hljs.initHighlightingOnLoad()})</script></div></div></main><footer class=pl-scrollbar><div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">Copyright &copy; 2018 ~ 2021 <a href=https://goer.icu>惒泊の部落格</a> All Rights Reserved!
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></div></div></footer></body></html>