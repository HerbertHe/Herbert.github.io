import{_ as s,o as n,c as a,Q as e}from"./chunks/framework.9818e7a8.js";const b=JSON.parse('{"title":"如何使用TypeScript操作语法树","description":"","frontmatter":{"title":"如何使用TypeScript操作语法树","date":"2024-03-26T17:16:44.000Z","toc":true,"tags":["unified","语法树","TypeScript","unist"]},"headers":[],"relativePath":"posts/zh/如何使用TypeScript操作语法树.md","filePath":"posts/zh/如何使用TypeScript操作语法树.md"}'),p={name:"posts/zh/如何使用TypeScript操作语法树.md"},l=e(`<blockquote><p>原文链接：<a href="https://unifiedjs.com/learn/guide/syntax-trees-typescript/" target="_blank" rel="noreferrer">https://unifiedjs.com/learn/guide/syntax-trees-typescript/</a></p></blockquote><p>本教程将向你介绍 TypeScript 使用 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a> 和 <a href="https://unifiedjs.com/explore/package/unified/" target="_blank" rel="noreferrer">unified</a>。</p><h2 id="基础" tabindex="-1">基础 <a class="header-anchor" href="#基础" aria-label="Permalink to &quot;基础&quot;">​</a></h2><p>所有的 <a href="https://unifiedjs.com/explore/package/unified/" target="_blank" rel="noreferrer">unified</a> 语法树都是基于 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a>(<strong>uni</strong>versal <strong>s</strong>yntax <strong>t</strong>ree)。可用的核心类型包只包含类型：<a href="https://www.npmjs.com/package/@types/unist" target="_blank" rel="noreferrer"><code>@types/unist</code></a>。主要的类型是 <code>节点(Node)</code>，其他的都继承于此。<code>字面量(Literal)</code> 和 <code>父节点(Parent)</code> 这些更具体的类型也是继承于 <code>节点(Node)</code>。</p><p>由 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a> 提供的类型为抽象接口(Abstract Interfaces)，通常情况下，你需要根据所使用的语言来选择更加实用的接口。<a href="https://unifiedjs.com/explore/package/unified/" target="_blank" rel="noreferrer">unified</a> 所支持的每种语言，例如：markdown、HTML 和 XML 都有他们自己继承于 <code>unist</code> 的语法树标准。</p><p>让我们一起来看看。</p><h2 id="unist" tabindex="-1">unist <a class="header-anchor" href="#unist" aria-label="Permalink to &quot;unist&quot;">​</a></h2><h3 id="节点-node" tabindex="-1"><code>节点(Node)</code> <a class="header-anchor" href="#节点-node" aria-label="Permalink to &quot;\`节点(Node)\`&quot;">​</a></h3><p><code>节点(Node)</code> 是语法树的句法单位。每个节点都继承于 <code>节点(Node)</code>（有时候是 <code>字面量(Literal)</code> 或者 <code>父节点(Parent)</code>）。并且设置 <code>type</code> 为一个 <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types" target="_blank" rel="noreferrer">字符串字面量(string literal)</a>。这个类型字段用于告诉我们节点内容的类型是什么。这个字段唯一标识一种内容，在 TypeScript 中，被称为 <a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#discriminated-unions" target="_blank" rel="noreferrer">可辨识联合/可区分联合(discriminated union)</a>。举个在 ，markdown(<a href="https://github.com/syntax-tree/mdast" target="_blank" rel="noreferrer">mdast</a>) 中的例子：<code>Node</code> 被继承用于一些节点 <code>Heading</code> 或 <code>Link</code>，以取代使用 <code>type</code> 字段设置为 <code>heading</code> 和 <code>link</code>。</p><p>一个节点可以可选地包含一个 <code>Data</code> 接口于 <code>data</code> 字段。这是一个对象用于存储额外的原始数据，并不是节点的标准，但在生态中被定义（工具类(utilities)和插件(plugins)）。</p><p>当从文件中解析语法树时，会包含坐标信息：一个 <code>Position</code> 接口于 <code>position</code> 字段，这用于描述节点在源文件中的位置。</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * Syntactic units in unist syntax trees are called nodes.</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#81A1C1;">interface</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Node</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * The variant of a node.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  type</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * Information from the ecosystem.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  data</span><span style="color:#81A1C1;">?:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Data</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">|</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">undefined</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * Location of a node in a source document.</span></span>
<span class="line"><span style="color:#616E88;">   * Must not be present if a node is generated.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  position</span><span style="color:#81A1C1;">?:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Position</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">|</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">undefined</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * Information associated by the ecosystem with the node.</span></span>
<span class="line"><span style="color:#616E88;"> * Space is guaranteed to never be specified by unist or specifications</span></span>
<span class="line"><span style="color:#616E88;"> * implementing unist.</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#81A1C1;">export</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">interface</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Data</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  [</span><span style="color:#D8DEE9;">key</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">string</span><span style="color:#D8DEE9FF;">]</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">unknown</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * Location of a node in a source file.</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#81A1C1;">export</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">interface</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Position</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * Place of the first character of the parsed source region.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  start</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Point</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * Place of the first character after the parsed source region.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  end</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Point</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * Start column at each index (plus start line) in the source region,</span></span>
<span class="line"><span style="color:#616E88;">   * for elements that span multiple lines.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  indent</span><span style="color:#81A1C1;">?:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">number</span><span style="color:#D8DEE9FF;">[] </span><span style="color:#81A1C1;">|</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">undefined</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="字面量-literal" tabindex="-1"><code>字面量(Literal)</code> <a class="header-anchor" href="#字面量-literal" aria-label="Permalink to &quot;\`字面量(Literal)\`&quot;">​</a></h3><p><code>字面量(Literal)</code> 继承于 <code>节点(Node)</code>，并添加了一个 <code>value</code> 属性。举个例子，一个 markdown <code>Code</code> 节点继承 <code>Literal</code>，并设置 <code>value</code> 为 <code>string</code>。</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * Nodes containing a value.</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#81A1C1;">export</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">interface</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Literal</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">extends</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;font-weight:bold;">Node</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  value</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">unknown</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="父节点-parent" tabindex="-1"><code>父节点(Parent)</code> <a class="header-anchor" href="#父节点-parent" aria-label="Permalink to &quot;\`父节点(Parent)\`&quot;">​</a></h3><p><code>父节点(Parent)</code> 继承于 <code>节点(Node)</code>，并添加了一个 <code>子节点(children)</code> 属性。子节点代表其他内容在 <code>父节点(Parent)</code> 内部，或者就是这个节点的一部分。</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * Nodes containing other nodes.</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#81A1C1;">export</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">interface</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Parent</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">extends</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;font-weight:bold;">Node</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;">   * List representing the children of a node.</span></span>
<span class="line"><span style="color:#616E88;">   */</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  children</span><span style="color:#81A1C1;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">Node</span><span style="color:#D8DEE9FF;">[]</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="在项目中拉取-unist" tabindex="-1">在项目中拉取 unist <a class="header-anchor" href="#在项目中拉取-unist" aria-label="Permalink to &quot;在项目中拉取 unist&quot;">​</a></h3><p>安装：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki nord"><code><span class="line"><span style="color:#88C0D0;">npm</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">install</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">--save-dev</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">@types/unist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在一个 TypeScript 文件中导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">type</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Node</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Literal</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Parent</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">from</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">unist</span><span style="color:#ECEFF4;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html" target="_blank" rel="noreferrer">JSDoc TypeScript</a> 导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;unist&#39;).Node</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Node</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;unist&#39;).Literal</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Literal</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;unist&#39;).Parent</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Parent</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="mdast-markdown" tabindex="-1">mdast(markdown) <a class="header-anchor" href="#mdast-markdown" aria-label="Permalink to &quot;mdast(markdown)&quot;">​</a></h2><p><a href="https://github.com/syntax-tree/mdast" target="_blank" rel="noreferrer">mdast</a> (<strong>m</strong>arkdown <strong>a</strong>bstract <strong>s</strong>yntax <strong>t</strong>ree) 继承于 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a>，并且为 markdown 具像化类型，例如 <code>Heading</code> <code>Code</code> <code>Link</code> 等。这些具像化的类型包含了一个完整的节点列表。这些类型可以通过一个类型包进行使用。<a href="https://www.npmjs.com/package/@types/mdast" target="_blank" rel="noreferrer"><code>@types/mdast</code></a>。</p><p>安装：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki nord"><code><span class="line"><span style="color:#88C0D0;">npm</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">install</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">--save-dev</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">@types/mdast</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在一个 TypeScript 文件中导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">type</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Heading</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Code</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Link</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">from</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">mdast</span><span style="color:#ECEFF4;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html" target="_blank" rel="noreferrer">JSDoc TypeScript</a> 导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;mdast&#39;).Heading</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Heading</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;mdast&#39;).Code</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Code</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;mdast&#39;).Link</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Link</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="hast-html" tabindex="-1">hast(HTML) <a class="header-anchor" href="#hast-html" aria-label="Permalink to &quot;hast(HTML)&quot;">​</a></h2><p><a href="https://github.com/syntax-tree/hast" target="_blank" rel="noreferrer">hast</a> (<strong>h</strong>ypertext <strong>a</strong>bstract <strong>s</strong>yntax <strong>t</strong>ree) 继承于 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a>，并且为 HTML 具像化类型，例如 <code>Element</code> <code>Comment</code> <code>DocType</code> 等。这些具像化的类型包含了一个完整的节点列表。这些类型可以通过一个类型包进行使用。<a href="https://www.npmjs.com/package/@types/hast" target="_blank" rel="noreferrer"><code>@types/hast</code></a>。</p><p>安装：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki nord"><code><span class="line"><span style="color:#88C0D0;">npm</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">install</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">--save-dev</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">@types/hast</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在一个 TypeScript 文件中导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">type</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Element</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Comment</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">DocType</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">from</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">hast</span><span style="color:#ECEFF4;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html" target="_blank" rel="noreferrer">JSDoc TypeScript</a> 导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;hast&#39;).Element</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Element</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;hast&#39;).Comment</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Comment</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;hast&#39;).DocType</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">DocType</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="xast-xml" tabindex="-1">xast(XML) <a class="header-anchor" href="#xast-xml" aria-label="Permalink to &quot;xast(XML)&quot;">​</a></h2><p>[xast] (e<strong>x</strong>tensible <strong>a</strong>bstract <strong>s</strong>yntax <strong>t</strong>ree) 继承于 <a href="https://github.com/syntax-tree/unist" target="_blank" rel="noreferrer">unist</a>，并且为 XML 具像化类型，例如 <code>Element</code> <code>CData</code> <code>Instruction</code> 等。这些具像化的类型包含了一个完整的节点列表。这些类型可以通过一个类型包进行使用。<a href="https://www.npmjs.com/package/@types/xast" target="_blank" rel="noreferrer"><code>@types/xast</code></a>。</p><p>安装：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki nord"><code><span class="line"><span style="color:#88C0D0;">npm</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">install</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">--save-dev</span><span style="color:#D8DEE9FF;"> </span><span style="color:#A3BE8C;">@types/xast</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在一个 TypeScript 文件中导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#81A1C1;">import</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">type</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Element</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">CData</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">Instruction</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">from</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">xast</span><span style="color:#ECEFF4;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html" target="_blank" rel="noreferrer">JSDoc TypeScript</a> 导入类型，如下：</p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki nord"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;xast&#39;).Element</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Element</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;xast&#39;).CData</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">CData</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#81A1C1;">typedef</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#8FBCBB;">import(&#39;xast&#39;).Instruction</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#8FBCBB;">Instruction</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><ul><li><a href="https://unifiedjs.com/explore/package/unified/" target="_blank" rel="noreferrer">unified</a> 提供了不同语言的语法树类型</li><li>这些类型可以被 TypeScript 和 JSDoc 项目导入</li></ul><h2 id="进一步" tabindex="-1">进一步 <a class="header-anchor" href="#进一步" aria-label="Permalink to &quot;进一步&quot;">​</a></h2><ul><li><a href="https://unifiedjs.com/learn/recipe/tree-traversal-typescript/" target="_blank" rel="noreferrer">学习使用 TypeScript 遍历语法树</a></li><li><a href="https://unifiedjs.com/learn/recipe/narrow-node-typescript/" target="_blank" rel="noreferrer">学习压缩节点</a></li><li><a href="https://unifiedjs.com/learn/recipe/build-a-syntax-tree/" target="_blank" rel="noreferrer">学习构建语法树</a></li></ul>`,53),o=[l];function r(t,c,i,y,E,d){return n(),a("div",null,o)}const u=s(p,[["render",r]]);export{b as __pageData,u as default};
