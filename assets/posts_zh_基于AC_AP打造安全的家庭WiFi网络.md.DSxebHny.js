import{_ as t,c as o,o as i,a6 as r}from"./chunks/framework.DqpHdag1.js";const P=JSON.parse('{"title":"基于 AC+AP 打造安全的家庭 WiFi 网络","description":"","frontmatter":{"title":"基于 AC+AP 打造安全的家庭 WiFi 网络","date":"2023-11-27 13:00","toc":true,"tags":["锐捷","wifi","acap","安全","网络"]},"headers":[],"relativePath":"posts/zh/基于AC+AP打造安全的家庭WiFi网络.md","filePath":"posts/zh/基于AC+AP打造安全的家庭WiFi网络.md"}'),s={name:"posts/zh/基于AC+AP打造安全的家庭WiFi网络.md"},a=r('<h2 id="写在前面的" tabindex="-1">写在前面的 <a class="header-anchor" href="#写在前面的" aria-label="Permalink to &quot;写在前面的&quot;">​</a></h2><p>在家使用 WiFi，并且在此基础上搭建智能家居，已变得越来越潮流化。但打造一个稳定的智能家居环境，并不是一个十分容易的事情，靠谱的网络环境决定了整套系统是否可以稳定运行。</p><p>本篇着重讲解基于 <strong>锐捷 ac+ap</strong> 组合的家庭网络设计思路，并且在此基础上介绍家庭网络的网络安全策略。本篇使用的 <strong>锐捷 ac+ap</strong> 方案只是刚好采用了锐捷的设备，非带货广告。还有其他的解决方案，比如：基于 TP-LINK、华为、小米的 Mesh 组网方案。</p><p>本篇采用的设备为：</p><ul><li>AC：锐捷 EG110G-P</li><li>AP：锐捷 EAP162（E）</li></ul><blockquote><p>如果网络布线提前考虑到了天花板吸顶 AP，可以选择锐捷的 EAP262（E）。视家庭所需进行更高性能、更贵设备的选择，本方案可以支持最大 1000Mbps 的带宽接入。</p></blockquote><h2 id="为什么选择-ac-ap-的方案" tabindex="-1">为什么选择 AC+AP 的方案 <a class="header-anchor" href="#为什么选择-ac-ap-的方案" aria-label="Permalink to &quot;为什么选择 AC+AP 的方案&quot;">​</a></h2><p>在家装进行布线的时候，就需要考虑整个网络情况的规划。针对于不同小区的建筑材料实际情况，WiFi 的穿墙能力是很不一定的，其信号强度也严重影响到了传输速率（俗称网速）。</p><p>一般家庭网络的拓扑，即 <code>运营商光纤 -&gt; 运营商光猫 -&gt; 家庭各路由</code>。<strong>还可能直接把路由器直接塞到弱电箱内，甚至直接用的运营商光猫的 WiFi 信号，这对于充分发挥宽带的性能是非常不利的。</strong> 因此，我更倾向于在使用 WiFi 的情况下，也要跑满宽带的极限速率。</p><p>对于智能家居来说，全家庭网络单一 <strong>SSID（可以理解为：WiFi的名称）</strong> 对于网络体验上会非常的好，尤其是将 <strong>米家、华为、美的等家庭智能设备</strong> 接入到 WiFi，这一点更是格外重要。因为网络一旦发生改动，比如：更换路由器、路由器信号差等问题。智能家居设备很可能要重新配置所有的网络侧信息，然后一个个重置后加入控制系统，又麻烦、又费精力。</p><p>上面的 <code>单一SSID</code> 的问题，在常规上我们可以使用多个路由器的 <strong>无线桥接</strong> 进行实现，但是始终无法解决 WiFi 网速达不到实际的宽带素质。</p><ul><li>Mesh：家庭最简单的组网方案，比如：各大厂家的 Mesh 路由器，华为 Q6 子母套装。</li><li>AC+AP：更加通用、高阶的组网方案，属于企业级解决方案。</li></ul><p>如果不想折腾，也没有什么特别的需求。Mesh 可以视为简化版的 AC+AP，这两种方式都可以进行 <strong>统一的SSID、WiFi 无感漫游</strong>，可以选择 Mesh 组网进行家庭网络的部署；但是，如果对网络稳定性、扩展性、带机量、信号覆盖等有更高的需求，最终的选择还是 <strong>AC+AP</strong> 的方案。</p><p>针对家庭网络的选择问题，前面铺垫了很多，比较不同方案的区别还是很大的。</p><p>Mesh vs AC+AP：</p><p>优点：</p><ul><li>容易部署</li><li>价格更低</li></ul><p>缺点：</p><ul><li>带机量少</li><li>价格并没有太低</li><li>不可以隐藏式部署</li><li>稳定性不如 AC+AP</li><li>无法解决进阶的玩法</li><li>对于面积过大的场景受限</li></ul><h2 id="家庭网络部署" tabindex="-1">家庭网络部署 <a class="header-anchor" href="#家庭网络部署" aria-label="Permalink to &quot;家庭网络部署&quot;">​</a></h2><p>选择 <strong>ac+ap</strong> 方案的绝大多数消费者，可能都会考虑到 <strong>隐藏式部署</strong> 的问题，因为 ac 可以直接塞到信息箱中（ac 不发射 WiFi 信号），ap 可以直接塞到预留的86面板中，只需要一根网线进行 PoE 供电，就可以同时解决数据传输和供电需求的问题。对于家装来说，不仅布线简单，而且十分美观。</p><p>相比于 Mesh 组网，其实 AC+AP 并没有复杂很多，下面是自己使用的网络部署流程。</p><ul><li>硬件连接：</li></ul><p>将所有的 ap 面板安装到对应的位置，需要提前将预埋网线的水晶头做好，直接插上就可以了。</p><p>将 ac 的 WAN0 口网线接上光猫的 千兆/2.5G LAN 口。如果家庭有多条宽带入户，可以将 WAN1（LAN8）口网线接上另一个光猫的对应接口，做双线入网（更多的宽带接入，不适用 锐捷 EG110G-P 这个 ac，需要更换 ac 设备）。</p><p>将 ac 的 LAN 口从 0 开始，依次插上 ap 的预埋线。通电之后，指示灯亮起，就解决了所有的 <strong>ac+ap 硬件连接问题</strong>。</p><ul><li>网络部署：</li></ul><p>因为是企业级的解决方案，所以也可以让网络工程师进行部署操作。</p><ol><li>下载 <strong>锐捷睿易 APP</strong>，并注册账号</li><li>快速添加，创建新项目</li><li>扫码、输入 SN 添加</li></ol><p>然后，可以进行网络部署。</p><p><code>工作台 -&gt; 基础 -&gt; Wi-Fi设置 -&gt; 添加新Wi-Fi</code>，输入 Wi-Fi名称、Wi-Fi密码（不建议使用弱口令，建议混合输入大小写字母、数字和特殊符号组合，不然会有很严重的网络安全隐患）；</p><p>频段选择 2.4G 和 5G，锐捷会自动做多频融合，智能家居设备绝大多数目前只支持 2.4G 频段的 WiFi 信号；安全基本上选择 加密，加密类型 WPA/WPA2-PSK 就可以了，目的是兼容绝大多数的设备，现阶段不推荐使用 WPA3-SAE 加密类型。</p><blockquote><p>2.4G 和 5G 指的是 WiFi 信号频段，不是运营商所说的 5G 网络</p></blockquote><p>点击 <strong>高级设置</strong>（不需要太理解，一步步操作就可以了）：</p><p>无线模式默认去选择：802.11ax（Wi-Fi6），如果家庭存在 <strong>设备连不上</strong> 再考虑兼容模式。</p><p>VLAN ID 默认为 1，表示与 AP 同 VLAN。下面在 <strong>安全性策略</strong> 的部分，会设置 VLAN ID 不填 1 的情况，默认 WiFi 保持为 1 即可。</p><p>打开 5G 优先。</p><p>至此，基本的家庭网络已经设置完毕。</p><h2 id="网络调优" tabindex="-1">网络调优 <a class="header-anchor" href="#网络调优" aria-label="Permalink to &quot;网络调优&quot;">​</a></h2><p>为优化网络连接，进行下面的操作：</p><p>1、进入<code>高级 -&gt; 无线 -&gt; 无线网优</code> 进行 AP 的信号调优，减少 WiFi 信号的相互干扰。</p><p>2、进入 <code>高级 -&gt; 无线 -&gt; AI 漫游</code> 进行 AP 漫游优化，打开 <strong>KV漫游</strong> 和 <strong>AI漫游</strong> ，提高 AP 切换体验。</p><p>3、进入 <code>高级 -&gt; 无线 -&gt; 5G优先</code> ，打开。</p><p>4、进入 <code>高级 -&gt; 网关&amp;交换 -&gt; 极速模式</code>，打开（如果没有流量审计，联网控制等特殊需求的话）。</p><p>5、对于多宽带入户的用户，可以选择 <code>高级 -&gt; 网关&amp;交换</code> 下面的 <strong>WAN配置</strong> 和 <strong>出口选路</strong> 进行个性化配置。</p><h2 id="安全性策略" tabindex="-1">安全性策略 <a class="header-anchor" href="#安全性策略" aria-label="Permalink to &quot;安全性策略&quot;">​</a></h2><p>家庭网络同时存在客人来访的问题，针对于家庭网络的安全性，不建议直接分享 WiFi 密码，不排除可能造成整个网络的安全隐患；对于蹭网的处理，同样是如此。</p><p>搭建 <strong>访客网络</strong> 是最好的解决方案。</p><p>跟上面添加无线网的方式略有不同，这里会涉及到上面 VLAN ID 的问题，本篇只介绍添加 <strong>无线业务网</strong>，<strong>有线业务网</strong> 的情况同理。</p><ul><li>选择最上面 tab 栏 <code>网络</code></li><li>任意点击一个 无线网 方块</li><li>进入 <code>业务地图</code> 之后，点击 <strong>添加业务网</strong>，选择 <strong>无线业务网</strong></li><li>无线接入设置，跟上面步骤是一样的，设置基本参数，比如名称为 <strong>来访WiFi</strong></li><li>业务参数，填写 <strong>业务备注（自己知道干啥的就行）</strong>、<strong>VLAN ID</strong>（VLAN ID 影响分配的 IP 段，不要填写 0 或者 1，以防与运营商宽带冲突）</li></ul><blockquote><p>填写 <strong>VLAN ID</strong> 为 60，则 <strong>默认网关/掩码</strong> 为 192.168.60.1/24，不需要更改本步骤的高级配置部分。不要填写 0 或 1，是因为很可能会导致 DHCP 的 ip 段冲突；<strong>同理，如果家庭在宽带和 ac 之间还有路由设备的话，VLAN ID 也不能填该 ip 段。</strong></p></blockquote><p>其实，锐捷的 <strong>诺克云 MACC 的 eWeb</strong> 可以更容易配置 <strong>访客网络</strong>，但是 <strong>锐捷睿易APP</strong> 只是给了一个更通用的方案，不涉及太多高级的操作。</p><p>在完成上面的 <strong>访客网络</strong> 创建之后，需要进行 <strong>ACL 业务访问控制</strong>，本配置用于 VLAN 的安全隔离，主要应用场景为：不允许访客控制家庭智能设备、不允许外来可能的网络攻击、不允许网络嗅探等。</p><p><code>工作台 -&gt; 高级 -&gt; 整网 -&gt; 业务访问控制</code>，将上面设置的 <strong>访客网络业务网</strong> 拖到 <strong>隔离区</strong>，使连接该网络的设备相互隔离，不允许接入家庭网络和彼此隔离。</p><p>至此，简单的 <strong>安全性策略</strong> 也完成了。</p><h2 id="付费咨询" tabindex="-1">付费咨询 <a class="header-anchor" href="#付费咨询" aria-label="Permalink to &quot;付费咨询&quot;">​</a></h2><p>如果你有需求，实在是搞不定网络配置，可以进行付费技术咨询。对于组网方案的选择、设备选择等，不限于家庭 WiFi 方案、企业级 WiFi 部署，也可以进行付费技术咨询。</p><p>付费咨询：<code>微信公众号：惒泊小舍 -&gt; 选择菜单 “付费咨询”</code>，选择 知乎 可以进行问答咨询。</p><p>网络方案和规划，请直接 <strong>向公众号发消息</strong> 留下联系方式；或者，发送电子邮件 到 <a href="mailto:hi@ibert.me" target="_blank" rel="noreferrer">hi@ibert.me</a>。</p>',59),e=[a];function p(n,l,g,c,A,d){return i(),o("div",null,e)}const _=t(s,[["render",p]]);export{P as __pageData,_ as default};
